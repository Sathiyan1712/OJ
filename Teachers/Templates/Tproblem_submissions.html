{% extends "base.html" %}
{% block content %}
<div style="
    max-width: 800px;
    margin: 40px auto;
    background: #fafafa;
    border-radius: 16px;
    box-shadow: 0 2px 12px #eee;
    padding: 36px 32px 28px 32px;
">
    <h2 style="color:#be4d4d; text-align:center; margin-bottom:26px;">
        Your Submissions for this Problem
    </h2>
    <table style="
        width:100%;
        border-collapse:collapse;
        background:#fff;
        border-radius:8px;
        overflow:hidden;
        box-shadow: 0 1px 4px #eee;
        font-size:1em;
    ">
        <thead>
            <tr style="background:#f3d6d6; color:#be4d4d;">
                <th style="padding:12px 8px;">Submitted At</th>
                <th style="padding:12px 8px;">Language</th>
                <th style="padding:12px 8px;">Correct?</th>
                <th style="padding:12px 8px;">View Code</th>
            </tr>
        </thead>
        <tbody>
        {% for sub in submissions %}
            <tr style="text-align:center; border-bottom:1px solid #f0eaea;">
                <td style="padding:10px 8px;">{{ sub.timestamp }}</td>
                <td style="padding:10px 8px;">{{ sub.language }}</td>
                <td style="padding:10px 8px;">
                    {% if sub.is_correct %}
                        <span style="font-size:1.2em; color:rgb(31, 228, 47);">✅</span>
                    {% else %}
                        <span style="font-size:1.2em; color:#be4d4d;">❌</span>
                    {% endif %}
                </td>
                <td style="padding:10px 8px;">
                    <a href="{% url 'Tview_code_submission' sub.id %}" style="
                        background:#be4d4d;
                        color:#fff;
                        padding:6px 16px;
                        border-radius:5px;
                        text-decoration:none;
                        font-size:0.96em;
                        font-weight:500;
                        transition:background 0.2s;
                    "
                    onmouseover="this.style.background='#a63a3a'"
                    onmouseout="this.style.background='#be4d4d'">
                        View Code
                    </a>
                </td>
            </tr>
        {% empty %}
            <tr>
                <td colspan="4" style="padding:18px; color:#888;">No submissions yet.</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
    <div style="margin-top:28px; text-align:center;">
        <a href="{% url 'problems' %}" style="color:#be4d4d; text-decoration:none; font-weight:600; font-size:1.05em;">
            &larr; Back to Problem List
        </a>
    </div>
</div>
{% endblock %}
