{% extends base_template %}
{% block content %}
<div style="
    max-width: 800px;
    margin: 40px auto;
    background: #fafafa;
    border-radius: 16px;
    box-shadow: 0 2px 12px #eee;
    padding: 36px 32px 28px 32px;
">
    <h1 style="color:#be4d4d; text-align:center; margin-bottom:28px;">AI Code Review</h1>
    
    <p><strong>Problem:</strong> <span style="color:#222;">{{ problem.title }}</span></p>
    <p><strong>Submitted Code Language:</strong> <span style="color:#be4d4d;">{{ submission.get_language_display }}</span></p>
    
    <h2 style="margin-top:28px; margin-bottom:12px;">Your Submitted Code:</h2>
    <pre style="
        background:#23272e;
        color:#f8f8f2;
        padding: 1.2em;
        border-radius: 8px;
        font-size: 1.07em;
        overflow-x: auto;
        box-shadow: 0 1px 6px #e9e9e9;
    "><code class="language-cpp">{{ submission.code|escape }}</code></pre>


    <hr style="margin:32px 0 24px 0;">

    <h2 style="margin-bottom:12px;">AI's Review:</h2>
    <div style="
    background:#f7f7f7;
    border-radius:8px;
    padding: 18px 16px;
    box-shadow: 0 1px 4px #eee;
    font-size:1.05em;
    color:#222;
    margin-bottom: 32px;
    white-space: pre-wrap;
    font-family: 'Courier New', monospace;
">
    {{ ai_review|escape }}
</div>


    <div style="display:flex; gap:18px; justify-content:center;">
        <a href="{% if problem %}{% url 'code submit' problem.id %}{% else %}{% url 'submit_empty' %}{% endif %}" style="
            background:#be4d4d;
            color:#fff;
            padding:10px 28px;
            border-radius:6px;
            text-decoration:none;
            font-weight:600;
            font-size:1em;
            box-shadow:0 1px 4px #e5b2b2;
            transition:background 0.2s;
        "
        onmouseover="this.style.background='#a63a3a'"
        onmouseout="this.style.background='#be4d4d'">
            Back to Compiler
        </a>
        <!-- <a href="{% url 'Tproblem_submissions' problem.id %}" style="
            background:#23272e;
            color:#fff;
            padding:10px 28px;
            border-radius:6px;
            text-decoration:none;
            font-weight:600;
            font-size:1em;
            box-shadow:0 1px 4px #e5b2b2;
            transition:background 0.2s;
        "
        onmouseover="this.style.background='#444'"
        onmouseout="this.style.background='#23272e'">
            View All Submissions
        </a> -->
    </div>
</div>
{% endblock content %}
